{{ $site := .Site }}
{{ $class := .class | default "quote-button" }}

{{ $label := .label }}
{{ if not $label }}
  {{ with $site.Params.home_cta.label }}
    {{ $label = . }}
  {{ end }}
{{ end }}
{{ if not $label }}
  {{ $label = "Start an Instant Quote" }}
{{ end }}

{{ $url := .url }}
{{ if not $url }}
  {{ with $site.Params.home_cta.url }}
    {{ $url = . }}
  {{ end }}
{{ end }}
{{ if not $url }}
  {{ $url = "/contact" }}
{{ end }}

{{ $isExternal := or (hasPrefix $url "http://") (hasPrefix $url "https://") }}

<a class="{{ $class }}" href="{{ $url }}"{{ if $isExternal }} target="_blank" rel="noopener"{{ end }}>{{ $label }}</a>
